<div class="flex flex-col location-search-con flex-1">
  <label
    for="locationSearchInput"
    class="search-input-placeholder text-sm text-secondary/80"
    >Where?</label
  >
  <div class="relative z-5110">
    <app-tip message="using LocationIQ which may not be 100% accurate" />
    <input
      #locationInput
      appDebounce
      (debounced)="search(locationInput.value)"
      class="search-input bg-transparent! border-0 text-primary/80 focus:outline-none w-full focus-within:bg-transparent! focus:bg-transparent! selection:bg-transparent!"
      type="search"
      placeholder=""
      id="locationSearchInput"
    />
    <div
      class="absolute left-0 top-0 h-full flex items-center gap-0.5 px-0 input-caret-con pointer-events-none"
    >
      <span class="text-secondary/60 search-input-placeholder text-sm"
        >Search for a location</span
      >
      <span class="w-px h-[50%] bg-secondary/60 input-caret"></span>
    </div>
  </div>
  <div
    *ngIf="locations().length > 0 && locationInput.value"
    class="locations-wrapper absolute left-[1%] top-full mt-2 w-[98%] bg-primary h-fit border-0 text-primary/80 cursor-pointer z-50 rounded-xl shadow-secondary/10 shadow-lg overflow-hidden flex flex-col [&>li]:last:border-b-0!"
    [ngClass]="{
        'list-active': locations().length > 0,
      }"
  >
    <ul placeholder="Select Type" class="max-h-96 overflow-y-auto p-3">
      @for (item of locations(); track $index) {
      <li
        class="p-2 py-3 flex border-b border-secondary/10"
        (click)="selectLocation(item)"
      >
        <i
          class="pi pi-map-marker mr-2 bg-secondary/10 p-1.5 rounded h-fit"
        ></i>
        <span>{{ item.display_name }}</span>
      </li>
      }
    </ul>
  </div>
</div>
